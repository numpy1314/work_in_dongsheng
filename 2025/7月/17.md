整理一下飞腾派上编写pwm的流程

首先是编写一个简单的app：将风扇转速从最高调至最低再调回最高

### 初始化pwm控制器
在初始化的时候配置以下寄存器
- TIM_CTRL
  - 功能：配置分频系数、计数模式、全局中断使能开关，控制 PWM 使能。
  - 偏移地址：0x404/0x804（不同通道对应不同偏移，这里以 PWM0 相关通道为例）
  - 操作说明：在初始化时设置分频系数，确定 PWM 控制器主时钟的分频，计数模式决定计数器是向上计数、向下计数等模式，通过设置 ENABLE 位（置 1 使能，置 0 禁用）控制 PWM 工作状态。
- TIM_CNT
  - 功能：计数器，用来表示当前内部 timer 计数信息，计数采用内部分频后的时钟。
  - 偏移地址：0x400/0x800
- STATE
  - 功能：PWM 内部状态寄存器，包含各 channel 的中断标志等状态信息。
  - 偏移地址：0x408/0x808
  - 操作说明：读取该寄存器可获取 PWM 工作状态，如 FIFO 空、计数中断等状态信息。


### 配置死区功能
- DBCTRL
  - 功能：死区控制寄存器，配置死带输出模式、极性选择、死区输入 PWM 源和全局软复位。
  - 偏移地址：0x00
  - 操作说明：可设置死区输出模式（如 bypass、启用上升沿或下降沿延迟等）、极性选择（控制输出信号是否翻转），通过写 DB_SW_RST 位（置 1）实现全局软复位。
- DBDLY
  - 功能：配置上升沿和下降沿延迟周期，防止上下桥臂同时导通。
  - 偏移地址：0x04
  - 操作说明：写入相应值，控制 PWM 信号上升沿和下降沿的延迟时钟周期数。


### 设置pwm工作模式
设置为compare模式，通过改变duty来控制转速
- PWM_PERIOD
  - 功能：设定计数周期，确定 PWM 信号的周期。
  - 偏移地址：0x40C/0x80C
  - 操作说明：写入合适的值，决定计数器从 0 计数到该值后重新开始计数，从而确定 PWM 信号的周期。
- PWM_CTRL
  - 功能：设定 PWM 工作模式（如 compare 模式），并根据工作模式设定相关参数。
  - 偏移地址：0x410/0x810
  - 操作说明：选择 compare 模式，在此模式下可结合其他寄存器控制占空比输出。
- PWM_CCR
  - 功能：通道的捕获和比较寄存器，在 compare 模式下，用于写入占空比（Duty）值。数据可来自该寄存器（默认），也可通过配置来自 FIFO 实现动态变化。
  - 偏移地址：0x414/0x814
  - 操作说明：写入不同的值改变占空比，进而控制风扇转速。

### 调整duty（占空比）调整转速
主要是pwm_ccr

### 梳理一下流程
![](/pic/PWM_REGISTER.png)
首先用的是pwm0，基地址为0x000_2804_A000，地址空间有4K

0~1k：pwm_db;
1~2k：pwm0；
2~3k：pwm1；

然后考虑的是TIM_CTRL寄存器，这个包含PWM使能位